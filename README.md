## Geodesic-Based Path Planning for Port Transfer Robots on Riemannian Manifolds

> 基于黎曼流形上测地线的港口转运机器人路径规划，发表于Expert Systems With Application，DOI：[10.1016/j.eswa.2025.129706](https://doi.org/10.1016/j.eswa.2025.129706)

--------

### 基本功能

* 将港口的矩形堆场环境与圆形障碍物构建一个完整且连续可导的势场
* 将机器人运动学约束与控制代价构建为测度矩阵，结合障碍物势场系数构建完整黎曼测度
* 将Geometric heat flow(GHF)引入作为测地线的求解器

--------

### 基本前置

* Matlab (Include PDEPE Solver)
* Python (matplotlib/shapely/numpy/scipy)

--------

### 代码说明

* Astar.m：用于求解A*路径规划结果，给GHF提供初始解
* compute_total_potential.m：用于生成连续可导障碍物势场
* RRTS.m：RRT*的具体实现，包括早停机制
* RRT_Planner：RRT*规划器应用主代码，包含多次运行的时间统计与可视化
* simulation.m：宽阔场景仿真代码，包含场景构建、黎曼测度构造与GHF求解
* simulation_add.m：宽敞场景新增场景仿真，具体内容同上
* visualization/visual.py：数据可视化与部分指标统计

--------

### 效果演示

* 仿真实验

![ddd](/docs/6a.jpg)
![ddd](/docs/7a.jpg)

* 实际实验-规划实验

![ddd](/docs/10.jpg)

* 实际实验-可行性验证

![ddd](/docs/11.jpg)


### 讨论与思考

* 其实这个思路还有不少可以优化的方向，比如障碍物的表示，势场的构建形式，求解的方式等等。现有的障碍物势场梯度还是太大了，在安全距离以外一段距离就开始出现收敛困难的现象，这点还可以进一步优化。另外目前针对测地线求解的方法其实还有很多，比如三次样条曲线拟合/基于误差函数的松弛求解器/Runge–Kutta法向前迭代等等，由于本人数学水平有限，不过多做探究

* 但是本质上全局路径规划问题是一个大尺度强终端约束的问题，因此RK法向前迭代法无法满足终端约束需求。另外，FMM，Heat Flow等离散化的求解方式会损失精度，此外也不能严格满足终端需求，需要进行额外的处理。在港口路径这种实时性不要求特别高的场景下，GHF是最不需要额外处理且一次就能满足需求的方式

* 把各个约束构建到黎曼流形里本质上是希望将复杂的各种约束统一到一个整体的几何平面中进行优化，但是具体求解细节比我一开始想的要复杂很多，还有很多需要学习的地方。目前我的实现在求解效率上还是有些慢，希望以后能够找到进一步优化的思路

* 这份代码由于是相对早期的版本，未加入机器人三圆势场叠加，但这一步实现起来相对容易

> 其实一开始实现就是使用matlab实现的，结果发现由于所在单位的问题，没法直接写matlab的求解细节，因此又重新找其他的方式来求解GHF方程，最后选定了Fipy作为求解库。求解速度其实比matlab要快一点，但是会有些奇怪的bug，最后还是选择开源了一开始的早期matlab代码，本质上最核心的黎曼测度构建思路都是一样的，GHF求解器其实是可以替换的模块，用别的方法也可以求解










